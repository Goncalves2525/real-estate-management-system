@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto



skinparam classAttributeIconSize 0



class Address {
 +getFullAddress(): String
}



class Property {
 +getPrice(): double
 +getTypeOfProperty(): TypeOfProperty
 +getTransactionType(): TransactionType
}



class Agent {
 +getName(): String
 +getEmployee(): Employee
}



class Employee {
 +getName(): String
 +getAddress(): Address
}



class House {
 +getNumberOfRooms(): int
 +getNumberOfBathrooms(): int
}



class Land {
 +getArea(): double
}



class Apartment {
 +getNumberOfRooms(): int
 +getNumberOfBathrooms(): int
 +getFloor(): int
}



class Comission {
 +calculate(): double
}



class TransactionType {
 +getName(): String
}



class TypeOfProperty {
 +getName(): String
}



class Photo {
 +getUrl(): String
}



class Announcement {
 +getProperty(): Property
 +getAgent(): Agent
 +getPhotos(): List<Photo>
 +getComission(): Comission
}



class AnnouncementRepository {
 +save(announcement: Announcement): void
 +findAll(): List<Announcement>
}



class AuthenticationRepository{
 +authenticate(agent: Agent): boolean
}



class Repositories {
 +getAuthenticationRepository(): AuthenticationRepository
 +getAnnouncementRepository(): AnnouncementRepository
}



class PublishAnnouncementController {
 +publishAnnouncement(announcement: Announcement): boolean
}



class PublishAnnouncementUI {
 +interact(): void
}



Repositories -> Repositories : instances



PublishAnnouncementUI .> PublishAnnouncementController



PublishAnnouncementController ..> Repositories



Repositories "1" --> "1" AuthenticationRepository : has
Repositories "1" --> "1" AnnouncementRepository : has



PublishAnnouncementController ..> AnnouncementRepository
PublishAnnouncementController ..> AuthenticationRepository



AnnouncementRepository "1" --> "*" Announcement : has



Announcement "1" --> "1" Property : has
Announcement "1" --> "1" Comission : has
Announcement "1" --> "1" Agent : has
Announcement "1" --> "*" Photo : has



Property "1" --> "1" Address : has
Property "1" --> "1" TransactionType : has
Property "1" --> "1" TypeOfProperty : has



Employee "1" --> "1" Address : has



Agent "1" --> "1" Employee : has



House "1" --|> Property : has



Land "1" --|> Property : has



Apartment "1" --|> Property : has



@enduml