@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto

skinparam classAttributeIconSize 0

'left to right directio
class Property{
      - area : double
      - distanceFromCenter : double
      - price : double
      - address : Address
      + getAddress() : Address
      + getArea() : double
      + getDistanceFromCenter() : int
      + getPrice() : double
      + toString() : String
}

class Announcement {
   - typeOfProperty : TypeOfProperty
   - transactionType : TransactionType
   - publishDate : Date
   - comission : Commission
   - photos ArrayList<Photo>
   - isPublished : boolean
   - id : int
   - idCounter : int
   + getProperty() : Property
   + toString() : String
}

class AnnouncementRepository {
    +getAllAnnouncementsSortedByDefualtCriteria() : ArrayList<Announcement>
    +getAllAnnouncementsSortedBySortCriteria(String sortCriteria, String order) : ArrayList<Announcement>
    +getFilteredAnnouncements(TypeOfProperty typeOfProperty, TransactionType transactionType, int numberOfRooms) : ArrayList<Announcement>
    +getFilteredAndSortedAnnouncements(TypeOfProperty typeOfProperty, TransactionType transactionType,\n int numberOfRooms, String sortCriteria, String order) : ArrayList<Announcement>
}

class Repositories {
    +Repositories()
    +getInstance() : Repositories
    +getAnnouncementRepository() : AnnouncementRepository
}

class ListAnnouncementsController {
     +getAnnoucementRepository() : Repository
     +getAllAnnouncementsSortedByDefualtCriteria() : ArrayList<Announcement>
     +getAllAnnouncementsSortedBySortCriteria(String sortCriteria, String order) : ArrayList<Announcement>
     +getFilteredAnnouncements(ypeOfProperty typeOfProperty, TransactionType transactionType, int numberOfRooms) : ArrayList<Announcement>
     +getFilteredAndSortedAnnouncements(TypeOfProperty typeOfProperty, TransactionType transactionType,\n int numberOfRooms, String sortCriteria, String order) : ArrayList<Announcement>
}

class ListAnouncementsUI {
    +checkInputType(typeOfProperty, transactionType, numberOfRooms, sortCriteria) : AnnouncementListOptionType
    +getAnnouncements(TypeOfProperty typeOfProperty, TransactionType transactionType,\n int numberOfRooms, String sortCriteria, String order) : ArrayList<Announcement>
    +getController() : ListAnnouncementsController
}

class Address{
    - street : String
    - city : String
    - district : String
    - state : String
    - zipCode : int
}

class CreateRequestController{
}

class PublishAnnouncementController{
}

class RegisterEmployeeController{
}

class AuthenticationController{
}

class UserSession{
}

class Agency{
}

class Agent extends Employee{
}

class Property{
}

abstract class Residency extends Property{
}

class Apartment extends Residency{
}

class House extends Residency{
}

class Land extends Property{
}

class Commission{
}

class Employee{
}

class PasswordGenerator{
}

class Photo{
}

abstract class User{
}

enum TypeOfProperty{
    APARTMENT
    HOUSE
    LAND
}

enum TransactionType{
    RENT
    SALE
}

enum SunExposure{
    NORTH
    SOUTH
    EAST
    WEST
}

class AgencyListRepository{
}

class AuthenticationRepository{
}

class EmployeeRepository{
}

class RoleRepository{
+getRolesToCreate(): List<Role>

}

class AuthenticationUI{
}

class AdminUI{
}

class ClientUI{
}

class EmployeeUI{
}

class MainMenuUI{
}

class MenuItem{
}

class CreateRequestUI{
}

class DevTeamUI{
}

class PublishAnnouncementUI{
}

class RegisterEmployeeUI{
}



Repositories -> Repositories : instances
ListAnnouncementsController ..> Repositories
ListAnouncementsUI .> ListAnnouncementsController
AuthenticationUI .> AuthenticationController
CreateRequestUI .> CreateRequestController
PublishAnnouncementUI .> PublishAnnouncementController
RegisterEmployeeUI .> RegisterEmployeeController
Repositories "1" --> "1" AnnouncementRepository : has
Repositories "1" --> "1" AgencyListRepository : has
Repositories "1" --> "1" AuthenticationRepository : has
Repositories "1" --> "1" EmployeeRepository : has
Repositories "1" --> "1" RoleRepository : has
ListAnnouncementsController ..> AnnouncementRepository
CreateRequestController ..> AnnouncementRepository
CreateRequestController ..> AgencyListRepository
CreateRequestController ..> EmployeeRepository
PublishAnnouncementController ..> AnnouncementRepository
RegisterEmployeeController ..> EmployeeRepository
RegisterEmployeeController ..> RoleRepository
RegisterEmployeeController ..> PasswordGenerator
RegisterEmployeeController ..> AuthenticationRepository
AuthenticationController ..> AuthenticationRepository
EmployeeRepository "1" --> "*" Employee : has
AgencyListRepository "1" --> "*" Agency : has
RoleRepository "1" --> "*" Role : has
Announcement "1" --> "1" Property : has
Announcement "1" --> "*" Photo : has
Announcement "1" --> "1" Commission : has
Announcement "1" --> "1" TransactionType : has
Announcement "1" --> "1" TypeOfProperty : has
House "1" --> "1" SunExposure : has
Announcement ..> Agent
AnnouncementRepository "1" --> "*" Announcement : has
Property "1" --> "1" Address : has
MainMenuUI "1" --> "*" MenuItem : has
MainMenuUI ..> ListAnouncementsUI
MainMenuUI ..> AuthenticationUI
MainMenuUI ..> DevTeamUI
AuthenticationUI ..> ClientUI
AuthenticationUI ..> EmployeeUI
AuthenticationUI ..> AdminUI
User ..> UserSession
AuthenticationRepository "1" --> "*" User : has
EmployeeUI ..> PublishAnnouncementUI
ClientUI ..> CreateRequestUI
AdminUI ..> RegisterEmployeeUI
CreateRequestController ..> Repositories
PublishAnnouncementController ..> Repositories
RegisterEmployeeController ..> Repositories



@enduml